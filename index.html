<!DOCTYPE html>
<html>
	<body>
		<video id="player" controls autoplay></video>
		<button id="capture">Capture</button>
		<canvas id="snapshot" width=320 height=240></canvas>

		<script>  
			var player = document.getElementById('player');

			var handleSuccess = function(stream) {
			player.srcObject = stream;
			};

			navigator.mediaDevices.getUserMedia({video: true})
			  .then(handleSuccess);

			captureButton.addEventListener('click', function() {
				var context = snapshot.getContext('2d');

				// Draw the video frame to the canvas.
				context.drawImage(player, 0, 0, snapshotCanvas.width, snapshotCanvas.height);
			});
		</script>
	</body>
</html>